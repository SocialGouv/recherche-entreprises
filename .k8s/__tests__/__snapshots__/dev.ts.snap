// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`kosko generate --dev 1`] = `
"---
apiVersion: v1
kind: Namespace
metadata:
  annotations:
    socialgouv/creator: autodevops
    janitor/ttl: 15d
    field.cattle.io/creatorId: gitlab
    field.cattle.io/projectId: c-bd7z2:p-7ms8p
    git/branch: refs/heads/mybranch
    git/remote: socialgouv/recherche-entreprises
    app.github.com/job: '5678'
    app.github.com/ref: refs/heads/mybranch
    app.github.com/repo: socialgouv/recherche-entreprises
    app.github.com/run: '1234'
    app.github.com/sha: '0123456'
  labels:
    azure-pg-admin-user: recherche-entreprises
    application: recherche-entreprises
    component: recherche-entreprises
    owner: recherche-entreprises
    team: recherche-entreprises
    cert: wildcard
  name: recherche-entreprises-mybranch
---
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.github.com/job: '5678'
    app.github.com/ref: refs/heads/mybranch
    app.github.com/repo: socialgouv/recherche-entreprises
    app.github.com/run: '1234'
    app.github.com/sha: '0123456'
  labels:
    app: recherche-entreprises-api
    application: recherche-entreprises
    component: recherche-entreprises
    owner: recherche-entreprises
    team: recherche-entreprises
    cert: wildcard
  name: recherche-entreprises-api
  namespace: recherche-entreprises-mybranch
spec:
  replicas: 1
  selector:
    matchLabels:
      app: recherche-entreprises-api
  template:
    metadata:
      annotations:
        kapp.k14s.io/disable-default-ownership-label-rules: ''
        kapp.k14s.io/disable-default-label-scoping-rules: ''
        app.github.com/job: '5678'
        app.github.com/ref: refs/heads/mybranch
        app.github.com/repo: socialgouv/recherche-entreprises
        app.github.com/run: '1234'
        app.github.com/sha: '0123456'
      labels:
        app: recherche-entreprises-api
        application: recherche-entreprises
        component: recherche-entreprises
        owner: recherche-entreprises
        team: recherche-entreprises
        cert: wildcard
    spec:
      containers:
        - image: >-
            ghcr.io/socialgouv/recherche-entreprises/search:sha-0123456789abcdefghijklmnopqrstuvwxyz0123
          livenessProbe:
            failureThreshold: 6
            httpGet:
              path: /healthz
              port: http
            initialDelaySeconds: 30
            periodSeconds: 5
            timeoutSeconds: 5
          name: recherche-entreprises-api
          ports:
            - containerPort: 3000
              name: http
          readinessProbe:
            failureThreshold: 15
            httpGet:
              path: /healthz
              port: http
            initialDelaySeconds: 0
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: 500m
              memory: 128Mi
            requests:
              cpu: 5m
              memory: 16Mi
          startupProbe:
            failureThreshold: 12
            httpGet:
              path: /healthz
              port: http
            periodSeconds: 5
          envFrom:
            - secretRef:
                name: elastic-recherche-entreprises-read
          env:
            - name: ELASTICSEARCH_INDEX_NAME
              value: search-entreprises
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: elastic-recherche-entreprises-read
  annotations:
    sealedsecrets.bitnami.com/cluster-wide: 'true'
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.github.com/job: '5678'
    app.github.com/ref: refs/heads/mybranch
    app.github.com/repo: socialgouv/recherche-entreprises
    app.github.com/run: '1234'
    app.github.com/sha: '0123456'
  labels:
    application: recherche-entreprises
    component: recherche-entreprises
    owner: recherche-entreprises
    team: recherche-entreprises
    cert: wildcard
  namespace: recherche-entreprises-mybranch
spec:
  encryptedData:
    ELASTICSEARCH_URL: >-
      AgCxK1MqqVkCOHvMjjcieUsj1uE/ATUzAfYTYVEMqcWFxTnugOaYlXB2mTuZtzdjXNvINREzDynnVRBghPIJvrJm59vPgexC5FyQptdPf2XwQAG6n0yMLWAEBM+O8ieO1D6vBu6BYuq4QYoItq+SMTE6APNX+p6wi4/LP04cR8p8bVKNxckPMfyVfQGhUSTD+2gC5ow2x1Mx67odqqP3E8eK9tm5tU6ltzOpKqJKITUQIqTQbSKFr8p77DE4IrdbPn8MpvdP+VrT+ztF4thPkpVpuYWy9rABdQKeEuNdN2AuvmPeJs/2B80iApIgtWWQjV/iG+WlLGMohvWDZVsBGuBuYGzhjJlr5w8OljwKDihb2cG1M/Ot/LM1xRuCC85wvqH0oMhnnP/3DZts5aYAN+qjAezOkPT9kjT+gu0WoQB+E5r9ITcYYHYbJw/YSxS2z86Ul0amRRW4ovAWT5c/nFDZU6i74I8YyVh8oOtrieZgNF4ajJcIr5YpjT2LICKoZR0KExrQ4V30zZJ+wZcvd8W3e/KCmKsFxloTkLq/sjEiFQoe6ffYTQhSUXZynqrdUKZsdoSleprfctlJtf3rzxt5hZIpcLulXrYk7pPPiHkTcV3Zc4zkN3BFE1A9vsgTvh6xTXlvUekJHHMXU3t8ZyZD8vvemxv0FE8G33XWQF2DEkmyc3gXMlfPDLho4fHv0h0iId0c9klFkOpmp8REFWJyuRQjq+hOHvfoCSu1ymsCwA0CMAguJoX1XEhn0aA9QIgf0VyBe/cVJwu/GfW74UBi6x5feqzFovYIUXbDP6kW
    ELASTICSEARCH_API_KEY: >-
      AgBO5D0q5m4SpJwfAgNM3cqLYYuFQGai28AKvulmD5bCgoLOFRJNhP0K4v3wsqb4OwQwSf+VJG4ACNvD0aqJhDATIZw3RRu3GODXnWXQhoiYXzjYOovZYSDLtPQBVOMwvb0oMXK5ZR92UqXop2A3i9m82uormFtVwn/+7rMFCT70Nm6NGg5gjEmi1eZeK1JImpk9VJm51zFVnAQEwgo84qLwTWAQ0OyekOrrnrbSD7cji57z1gPG/uculnRkqvlcJQjFwFkp02JIhNG3+6v6YgYHRt49YjJ4iz4xGx4FHMcZNSGgyzAO2VyBnTOLwHV+oTxxHDGf4PoL89sgX5fpRLX42MbbjGQwJLccno2Nn1Kzal8yTEjkGn12RDS70c4ieqP9puzmaMIH6+yHowA+dDjlIRqP2cmfPgC6cCEuzssdSm52ME6zdIQj/0xgcHVOEJJkltBPQuM/5k0oFtiiPYAFWxgIDEYH5WXMKRaTYUsV2BEqAC7KeiO4rFFmHQLW1F/6Rs64eHbsCLrJ+81mh52nuRdbg8G4OhP4550lVWRB5eOp4SeAO3b593QQ2pLV/m6Gy5kE1G9yOp2Ac6hceO115jMeEWeJ2+9Rn2MRNZQVunt4Fv7hE65uKWc4+UhYiWw/fjkNpZh4s2XG6Xl26IBMaPrRblQFI+PzVHRm8r82F7DOaWvmr/MUZMpn1nLykNAyumvGbQJEtBYG+QnFTw7slascjnuGcCEnaPcacjP2FF2IV+RzRKQjyEWxb9UOXuJgd9v0ewBJOVCZpLM=
  template:
    metadata:
      annotations:
        sealedsecrets.bitnami.com/cluster-wide: 'true'
        kapp.k14s.io/disable-default-ownership-label-rules: ''
        kapp.k14s.io/disable-default-label-scoping-rules: ''
        app.github.com/job: '5678'
        app.github.com/ref: refs/heads/mybranch
        app.github.com/repo: socialgouv/recherche-entreprises
        app.github.com/run: '1234'
        app.github.com/sha: '0123456'
      name: elastic-recherche-entreprises-read
      labels:
        application: recherche-entreprises
        component: recherche-entreprises
        owner: recherche-entreprises
        team: recherche-entreprises
        cert: wildcard
    type: Opaque
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: recherche-entreprises-api
    application: recherche-entreprises
    component: recherche-entreprises
    owner: recherche-entreprises
    team: recherche-entreprises
    cert: wildcard
  name: recherche-entreprises-api
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.github.com/job: '5678'
    app.github.com/ref: refs/heads/mybranch
    app.github.com/repo: socialgouv/recherche-entreprises
    app.github.com/run: '1234'
    app.github.com/sha: '0123456'
  namespace: recherche-entreprises-mybranch
spec:
  ports:
    - name: http
      port: 80
      targetPort: 3000
  selector:
    app: recherche-entreprises-api
  type: ClusterIP
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    kubernetes.io/ingress.class: nginx
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.github.com/job: '5678'
    app.github.com/ref: refs/heads/mybranch
    app.github.com/repo: socialgouv/recherche-entreprises
    app.github.com/run: '1234'
    app.github.com/sha: '0123456'
  labels:
    app: recherche-entreprises-api
    application: recherche-entreprises
    component: recherche-entreprises
    owner: recherche-entreprises
    team: recherche-entreprises
    cert: wildcard
  name: recherche-entreprises-api
  namespace: recherche-entreprises-mybranch
spec:
  rules:
    - host: search-recherche-entreprises-mybranch.dev2.fabrique.social.gouv.fr
      http:
        paths:
          - backend:
              service:
                name: recherche-entreprises-api
                port:
                  name: http
            path: /
            pathType: Prefix
  tls:
    - hosts:
        - search-recherche-entreprises-mybranch.dev2.fabrique.social.gouv.fr
      secretName: wildcard-crt
---
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.github.com/job: '5678'
    app.github.com/ref: refs/heads/mybranch
    app.github.com/repo: socialgouv/recherche-entreprises
    app.github.com/run: '1234'
    app.github.com/sha: '0123456'
  labels:
    app: recherche-entreprises-front
    application: recherche-entreprises
    component: recherche-entreprises
    owner: recherche-entreprises
    team: recherche-entreprises
    cert: wildcard
  name: recherche-entreprises-front
  namespace: recherche-entreprises-mybranch
spec:
  replicas: 1
  selector:
    matchLabels:
      app: recherche-entreprises-front
  template:
    metadata:
      annotations:
        kapp.k14s.io/disable-default-ownership-label-rules: ''
        kapp.k14s.io/disable-default-label-scoping-rules: ''
        app.github.com/job: '5678'
        app.github.com/ref: refs/heads/mybranch
        app.github.com/repo: socialgouv/recherche-entreprises
        app.github.com/run: '1234'
        app.github.com/sha: '0123456'
      labels:
        app: recherche-entreprises-front
        application: recherche-entreprises
        component: recherche-entreprises
        owner: recherche-entreprises
        team: recherche-entreprises
        cert: wildcard
    spec:
      containers:
        - image: >-
            ghcr.io/socialgouv/recherche-entreprises/front:sha-0123456789abcdefghijklmnopqrstuvwxyz0123
          livenessProbe:
            failureThreshold: 6
            httpGet:
              path: /healthz
              port: http
            initialDelaySeconds: 30
            periodSeconds: 5
            timeoutSeconds: 5
          name: recherche-entreprises-front
          ports:
            - containerPort: 80
              name: http
          readinessProbe:
            failureThreshold: 15
            httpGet:
              path: /healthz
              port: http
            initialDelaySeconds: 0
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: 500m
              memory: 128Mi
            requests:
              cpu: 5m
              memory: 16Mi
          startupProbe:
            failureThreshold: 12
            httpGet:
              path: /healthz
              port: http
            periodSeconds: 5
          env:
            - name: REACT_APP_API_URL
              value: >-
                https://search-recherche-entreprises-mybranch.dev2.fabrique.social.gouv.fr/api/v1
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: recherche-entreprises-front
    application: recherche-entreprises
    component: recherche-entreprises
    owner: recherche-entreprises
    team: recherche-entreprises
    cert: wildcard
  name: recherche-entreprises-front
  annotations:
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.github.com/job: '5678'
    app.github.com/ref: refs/heads/mybranch
    app.github.com/repo: socialgouv/recherche-entreprises
    app.github.com/run: '1234'
    app.github.com/sha: '0123456'
  namespace: recherche-entreprises-mybranch
spec:
  ports:
    - name: http
      port: 80
      targetPort: 80
  selector:
    app: recherche-entreprises-front
  type: ClusterIP
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    kubernetes.io/ingress.class: nginx
    kapp.k14s.io/disable-default-ownership-label-rules: ''
    kapp.k14s.io/disable-default-label-scoping-rules: ''
    app.github.com/job: '5678'
    app.github.com/ref: refs/heads/mybranch
    app.github.com/repo: socialgouv/recherche-entreprises
    app.github.com/run: '1234'
    app.github.com/sha: '0123456'
  labels:
    app: recherche-entreprises-front
    application: recherche-entreprises
    component: recherche-entreprises
    owner: recherche-entreprises
    team: recherche-entreprises
    cert: wildcard
  name: recherche-entreprises-front
  namespace: recherche-entreprises-mybranch
spec:
  rules:
    - host: recherche-entreprises-mybranch.dev2.fabrique.social.gouv.fr
      http:
        paths:
          - backend:
              service:
                name: recherche-entreprises-front
                port:
                  name: http
            path: /
            pathType: Prefix
  tls:
    - hosts:
        - recherche-entreprises-mybranch.dev2.fabrique.social.gouv.fr
      secretName: wildcard-crt
"
`;
